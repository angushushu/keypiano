
import React from 'react';
import { Theme } from '../theme';

// --- SVG METRICS ---
// ViewBox: 18.432 38.912 759.808 172.032
const VB_X = 18.432;
const VB_Y = 38.912;
const VB_W = 759.808;
const VB_H = 172.032;

const StaveBackgroundSVG: React.FC<{ theme: Theme }> = React.memo(({ theme }) => {
    const isLight = theme.id === 'light' || theme.id === 'minimalist' || theme.id === 'pastel' || theme.id === 'fauvism';
    const inkColor = isLight ? '#111' : '#e4e4e7';
    
    return (
        <svg 
            width="100%" 
            height="100%" 
            viewBox={`${VB_X} ${VB_Y} ${VB_W} ${VB_H}`} 
            preserveAspectRatio="xMidYMid meet"
            className="absolute inset-0 pointer-events-none"
            style={{ color: inkColor }}
        >
            <g fill="currentColor">
                {/* Treble Clef */}
                <path d="M68.739,174.423c4.702-3.587,7.694-5.571,10.32-10.795 c1.129-2.264,1.954-5.502,1.954-7.87c0-1.915-0.092-3.343-0.733-4.736c-0.733-1.602-2.29-2.855-4.305-2.646 c-1.343,0.139-2.961,0.696-3.634,1.532c-0.366,0.452-0.701,1.079-0.916,1.601c-0.184,0.453,0,1.149,0.733,1.184 c0.274,0,0.885-0.278,1.221-0.312c1.588-0.21,2.901,1.253,2.901,2.82c0,1.532-1.191,3.134-3.083,3.134 c-1.955,0-3.603-1.532-3.664-3.726c-0.061-2.333,1.282-4.701,3.174-5.886c1.007-0.731,3.206-1.393,4.274-1.393 c1.955,0,3.695,0.384,5.527,2.125c1.832,1.74,2.442,3.168,2.717,6.094c0.397,4.145-2.626,9.576-5.557,12.328 c-2.747,2.576-6.961,5.188-10.747,7.278L68.739,174.423z"/>
                {/* Key Sig / Time Sig Marks */}
                <path d="M88.188,148.961c1.008,0,1.649,0.824,1.649,1.649 c0,0.854-0.641,1.678-1.649,1.678c-1.069,0-1.679-0.824-1.679-1.678C86.509,149.785,87.119,148.961,88.188,148.961z"/>
                <path d="M88.188,157.808c1.008,0,1.649,0.825,1.649,1.649c0,0.855-0.641,1.68-1.649,1.68 c-1.069,0-1.679-0.824-1.679-1.68C86.509,158.633,87.119,157.808,88.188,157.808z"/>
                
                {/* Bass Clef */}
                <path d="M81.525,93.979c0.457-0.07,0.914-0.106,1.373-0.106 c4.471-0.035,7.604,3.979,7.569,8.52c0,3.767-2.253,6.549-5.598,8.169l1.408,7.146c0.105,0.598,0.105,1.126,0.105,1.619 c0,3.59-2.253,5.915-5.984,6.302c-2.923,0.316-6.268-1.69-6.584-4.859c-0.211-2.112,1.232-4.294,3.274-4.542 c1.866-0.21,3.556,1.444,3.626,3.381c0.105,2.709-2.569,3.59-3.59,3.343c0.105,1.198,2.182,1.654,3.168,1.55 c3.273-0.387,4.823-2.395,4.928-5.247c0-0.774-0.07-1.689-0.281-2.569l-1.198-5.633c-1.126,0.317-2.217,0.458-3.273,0.458 c-6.056,0-10.984-5.14-11.478-11.793c-0.527-6.866,5-11.97,9.26-16.335c-0.634-2.606-1.021-5.142-1.021-7.816 c0-3.204,1.478-9.752,4.823-10.984c1.443-0.563,4.119,6.513,4.048,10.421c-0.069,4.929-2.323,9.646-5.773,13.061L81.525,93.979z M81.207,98.169c-1.971,0.598-3.661,2.641-3.625,4.824c0,1.865,1.231,3.062,2.781,3.801c0.176,0.071,0.246,0.212,0.246,0.354 c0,0.21-0.246,0.387-0.492,0.352c-2.676-0.916-4.578-3.521-4.542-6.479c0-2.887,2.289-5.808,4.857-6.759l-1.055-5.316 c-3.733,3.309-7.851,7.252-7.887,12.709c0,5.493,4.648,8.871,9.683,8.661c0.809-0.035,1.583-0.176,2.359-0.423L81.207,98.169z M84.657,72.047c-0.035-1.126-0.704-2.253-1.937-2.253c-2.957,0.598-4.013,5.667-4.083,8.202c0,1.479,0.246,2.993,0.598,4.437 C82.053,80.003,84.799,76.025,84.657,72.047z M84.657,109.541c2.112-1.127,3.557-3.416,3.45-5.951 c-0.246-3.238-2.64-5.598-5.773-5.563L84.657,109.541z"/>
            </g>
            <g fill="currentColor">
                {/* Treble Lines */}
                <polygon points="716.389,104.059 57.129,104.059 57.129,102.798 716.389,102.798 716.389,104.059"/>
                <polygon points="716.389,112.774 57.129,112.774 57.129,111.514 716.389,111.514 716.389,112.774"/>
                <polygon points="716.389,95.343 57.129,95.343 57.129,94.082 716.389,94.082 716.389,95.343"/>
                <polygon points="716.389,86.627 57.129,86.627 57.129,85.366 716.389,85.366 716.389,86.627"/>
                <polygon points="57.76,180.919 56.499,180.919 56.499,76.651 716.389,76.651 716.389,77.912 57.76,77.912 57.76,180.919"/>
                
                {/* Bass Lines */}
                <polygon points="716.389,172.833 57.129,172.833 57.129,171.573 716.389,171.573 716.389,172.833"/>
                <polygon points="716.389,181.549 57.129,181.549 57.129,180.289 716.389,180.289 716.389,181.549"/>
                <polygon points="716.389,164.118 57.129,164.118 57.129,162.857 716.389,162.857 716.389,164.118"/>
                <polygon points="716.389,155.402 57.129,155.402 57.129,154.142 716.389,154.142 716.389,155.402"/>
                <polygon points="716.389,146.687 57.129,146.687 57.129,145.426 716.389,145.426 716.389,146.687"/>
                
                {/* Brace */}
                <path d="M54.208,179.558v1.969c-1.795-0.413-3.439-1.293-4.932-2.644c-1.493-1.35-2.774-3.009-3.845-4.978 s-1.909-4.163-2.515-6.582c-0.606-2.419-0.908-4.904-0.908-7.453c0-1.237,0.075-2.7,0.227-4.388 c0.151-1.687,0.325-3.375,0.52-5.063c0.195-1.688,0.368-3.282,0.519-4.781c0.151-1.5,0.227-2.681,0.227-3.543 c0-1.313-0.173-2.625-0.519-3.938c-0.346-1.313-0.838-2.512-1.476-3.6c-0.639-1.087-1.412-2.015-2.32-2.784 c-0.909-0.768-1.936-1.284-3.083-1.547v-2.307c1.146-0.262,2.179-0.768,3.099-1.519c0.919-0.75,1.697-1.668,2.336-2.757 c0.638-1.087,1.125-2.287,1.46-3.599c0.335-1.313,0.503-2.645,0.503-3.994c0-0.9-0.076-2.091-0.227-3.573 c-0.151-1.481-0.324-3.056-0.519-4.725c-0.195-1.668-0.368-3.347-0.52-5.034c-0.151-1.688-0.227-3.169-0.227-4.444 c0-2.549,0.302-5.034,0.908-7.453c0.605-2.419,1.444-4.604,2.515-6.553s2.352-3.6,3.845-4.951c1.493-1.35,3.136-2.23,4.932-2.644 v1.969c-1.276,0.526-2.374,1.229-3.293,2.109c-0.92,0.882-1.676,1.894-2.271,3.038c-0.595,1.144-1.038,2.382-1.33,3.712 c-0.292,1.332-0.438,2.71-0.438,4.135c0,0.976,0.075,2.25,0.227,3.825c0.151,1.576,0.319,3.216,0.503,4.922 c0.184,1.707,0.351,3.385,0.503,5.035c0.151,1.651,0.227,3.057,0.227,4.219c0,1.876-0.2,3.75-0.6,5.625 c-0.4,1.875-1.001,3.666-1.801,5.372c-0.801,1.707-1.801,3.272-3.001,4.697c-1.201,1.426-2.59,2.625-4.169,3.601 c1.557,0.975,2.931,2.203,4.121,3.684c1.189,1.482,2.19,3.094,3.001,4.838c0.811,1.744,1.421,3.563,1.833,5.457 c0.411,1.894,0.616,3.76,0.616,5.597c0,1.163-0.076,2.569-0.227,4.219c-0.152,1.651-0.319,3.329-0.503,5.035 c-0.184,1.706-0.352,3.347-0.503,4.922c-0.152,1.576-0.227,2.85-0.227,3.825c0,1.425,0.146,2.803,0.438,4.134 s0.735,2.569,1.33,3.713c0.595,1.144,1.352,2.156,2.271,3.038C51.834,178.272,52.932,178.996,54.208,179.558z"/>
            </g>
        </svg>
    );
});

export default StaveBackgroundSVG;
